---
alwaysApply: true
---
Ритуал завершения сессии (PhotoSorter)

Цель: в конце рабочей сессии оставить репозиторий в аккуратном, воспроизводимом состоянии.

## 1) README
- Обновляю `README.md`, чтобы он соответствовал текущему состоянию проекта:
  - как запустить Web UI
  - какие основные страницы/эндпойнты актуальны
  - важные ограничения/оговорки (например, особенности источников/дедупликации)
  - где лежат диаграммы сущностей (AS-IS / TO-BE) и как их обновлять

## 2) History.log (без подтверждения)
См. отдельное правило: `.cursor/rules/history-log.mdc`.

## 3) Чистка мусора/структуры
- Удаляю случайные/временные файлы (черновики, ошибочно созданные файлы, артефакты).
- Проверяю `git status` — в рабочем дереве остаются только осмысленные изменения.
- Не коммичу локальные секреты/БД:
  - `secrets.env`, `data/photosorter.db` — должны быть игнорируемыми.

## 4) Коммит
- Делаю осмысленный коммит с коротким, понятным сообщением.
- Если менялся Web UI/сервер — убеждаюсь, что сервер поднимается и отвечает (build-info).
- Коммит выполняется в рамках закрытия сессии (после чистки мусора/структуры).

